[JLScript]
Version=1
Name=\x41f\x440\x43e\x432\x435\x440\x43a\x430 \x43a\x43e\x43c\x438\x441\x441\x438\x438
Notes=
Encrypted=false
LogRowsCount=2000
Data="//=========== * \x41e\x442\x43a\x440\x44b\x442\x44b\x435 \x43e\x440\x434\x435\x440\x430 \x434\x43b\x44f \x434\x430\x43d\x43d\x43e\x433\x43e \x441\x43a\x440\x438\x43f\x442\x430* =====//\nvar mOpenOrders = []; \n\n//=========== * \x41e\x440\x434\x435\x440\x430 \x434\x43b\x44f \x434\x430\x43d\x43d\x43e\x433\x43e \x441\x43a\x440\x438\x43f\x442\x430 \x43a\x43e\x442\x43e\x440\x44b\x435 \x43e\x442\x43a\x440\x44b\x432\x430\x442\x44c \x43d\x435 \x43d\x430\x434\x43e* =====//\nvar mNotOpenOrders = [1,2,3,4,5,6,7,8,9,0]; \n\nvar indexDelete = [];\n\nfunction newOrder (vtype, vprice, vvolume) {\nthis.type = vtype;\nthis.price = vprice;\nthis.volume = vvolume;\n}\n\nfunction print_mOpenOrders () {\ntrader.log(\"============ \x421\x442\x435\x43a \x43e\x442\x43a\x440\x44b\x442\x44b\x445 \x43e\x440\x434\x435\x440\x43e\x432 \x441\x43a\x440\x438\x43f\x442\x430 mOpenOrders ============\");\nfor (var i = 0; i < mOpenOrders.length; i++) {\n\ttrader.log(\"   \",i,\") \", mOpenOrders[i].price, mOpenOrders[i].volume);\n}\n}\n\nfunction print_mNotOpenOrders () {\ntrader.log(\"============ \x421\x442\x435\x43a \x43e\x440\x434\x435\x440\x43e\x432 \x441\x43a\x440\x438\x43f\x442\x430 mOpenOrders \x43a\x43e\x442\x43e\x440\x44b\x435 \x43d\x435 \x43d\x430\x434\x43e \x43e\x442\x43a\x440\x44b\x432\x430\x442\x44c ============\");\nfor (var i = 0; i < mNotOpenOrders.length; i++) {\n\ttrader.log(\"   \",i,\") \", mNotOpenOrders[i].price, mNotOpenOrders[i].volume);\n}\n}\n\n\ntrader.on(\"Time\").changed()\n{\n/*if (mNotOpenOrders.length > 9) {\nfor (var i = 0; i < mNotOpenOrders.length; i++) {\n\ttrader.log(\"----------------------\");\n\ttrader.log(mNotOpenOrders[i]);\n\t//var last = mNotOpenOrders.shift();\n\tindexDelete.push(i);\n\ttrader.log(mNotOpenOrders.length);\n}\ntrader.log(\"------!!!!!!!----------------\", indexDelete.length);\nfor (var i =  indexDelete.length-1; i >-1; i--) {\nmNotOpenOrders.splice(indexDelete[i],1);\n}\ntrader.log(\"------!!!!!!!----------------\", mNotOpenOrders.length);\n}*/\n\nif (!trader.existDirectory(\"SaveStateSqript\")) {\n\ttrader.CreateDirectory(\"SaveStateSqript\");\n}\nif (!trader.existFile(\"SaveStateSqript/State1.txt\")) {\n\ttrader.CreateFile(\"SaveStateSqript/State1.txt\");\n}\n}\n\nvar step = 0;\n\n/*if (!trader.existDirectory(\"SaveStateSqript\")) {\n\tif (!trader.existFile(\"SaveStateSqript/State1.txt\")) {\n\t\t// \x437\x430\x433\x440\x443\x436\x430\x435\x43c \x438\x437 \x444\x430\x439\x43b\x430\n\t\tfor (var i = 0; i < trader.countLineFile(\"SaveStateSqript/State1.txt\"); i++) {\n\t\t\tvar str = trader.readLnFile(\"SaveStateSqript/State1.txt\",i);\n\t\t\tif (step == 0) {\n\t\t\t\tif (str == \"mOpenOrders\" ) {\n\t\t\t\t\tstep = 1;\n\t\t\t\t}\n\t\t\t}\t\n\t\t}\n\t}\n}\n*/\n\ntrader.on(\"ScriptClose\").changed() {\n/*\tif (!trader.existDirectory(\"SaveStateSqript\")) {\n\t\ttrader.CreateDirectory(\"SaveStateSqript\");\n\t}\n\tif (!trader.existFile(\"SaveStateSqript/State1.txt\")) {\n\t\ttrader.CreateFile(\"SaveStateSqript/State1.txt\");\n\t}\n\ttrader.appendFile(\"SaveStateSqript/State1.txt\",\"mOpenOrders\");\n\tfor (var i = 0; i< mOpenOrders.length; i++) {\n\t\ttrader.appendFile(\"SaveStateSqript/State1.txt\", mOpenOrders[i].type.toString() + \" \" + mOpenOrders[i].price.toFixed(8) + \" \" + mOpenOrders[i].volume.toFixed(8));\n\t}\n\ttrader.appendFile(\"SaveStateSqript/State1.txt\",\"mNotOpenOrders\");\n\tfor (var i = 0; i< mNotOpenOrders.length; i++) {\n\t\ttrader.appendFile(\"SaveStateSqript/State1.txt\", mNotOpenOrders[i].type.toString() + \" \" + mNotOpenOrders[i].price.toFixed(8) + \" \" + mNotOpenOrders[i].volume.toFixed(8));\n\t}\t\n\ttrader.appendFile(\"SaveStateSqript/State1.txt\",\"mOpenSellOrders\");\n\tfor (var i = 0; i< mOpenSellOrders.length; i++) {\n\t\ttrader.appendFile(\"SaveStateSqript/State1.txt\", mOpenSellOrders[i].type.toString() + \" \" + mOpenSellOrders[i].price.toFixed(8) + \" \" + mOpenSellOrders[i].volume.toFixed(8));\n\t}\n*/\ntrader.log(\"12345\");\n}\n"
